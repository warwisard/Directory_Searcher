var dynamicSearch=angular.module("dynamicSearch",["angular.chosen"]);dynamicSearch.directive("searcherDirective",function(){return{template:'<div><div class="row"><div class="btn btn-default pull-right" ng-click="clearFilter()"  style="border:1px solid black">Clear Filter</div></div><div class="form-horizontal"><div class="form-group"><span ng-style="getStyle()" ng-repeat="item in searchObjectArray"><div class="horOrVert" ng-class="getVertClass()" ng-style="getVertical()"><label for="{{displayObject[item.key]}}">{{displayObject[item.key]}}</label><select id="{{displayObject[item.key]}}" class="dynamicSearch" id="chosen_{{item.key}}" data-placeholder="Select Last Name" ng-model="changeSearch.edit[item.key]" ng-options="item for item in checkforDups(\'{{item.key}}\')" chosen></select></div></span></div></div></div>',replace:!0,link:function(e,c,a){function t(){e.searchObjectArray=[];for(var c in e.searchObject)e.searchObjectArray.push({key:c,value:e.searchObject[c]});e.displayObject?angular.forEach(e.displayObject,function(c,a){""===c&&(e.displayObject[a]=a)}):(e.displayObject=angular.copy(e.searchObject),angular.forEach(e.displayObject,function(c,a){e.displayObject[a]=a}))}e.getVertClass=function(){var c=e.vertical?e.vertical:!1;return"false"===c||c===!1?"col-sm-3":void 0},e.getVertical=function(){var c=e.vertical?e.vertical:!1;return"true"===c?{display:"block"}:{display:"inline-block"}},e.changeSearch=new Object;angular.copy(e.searchObject);e.checkforDups=function(c){var a=[];return angular.forEach(e.searchLists,function(e){-1==a.indexOf(e[c])&&a.push(e[c])}),a},e.getStyle=function(){return e.ngStyle?e.ngStyle:void 0},e.$watch("changeSearch",function(){angular.forEach(e.changeSearch.edit,function(c,a){e.searchObject[a]=c})},!0),e.clearFilter=function(){angular.forEach(e.searchObject,function(c,a){if(e.searchObject[a]="",e.changeSearch.edit="","{{key}}"!==a){var t="chosen_"+a;$("#"+t).trigger("chosen:updated")}})},e.$watch("searchObject",function(){t()}),e.$watch(a.displayObject,function(){a.displayObject=a.searchObject})},scope:{searchObject:"=",displayObject:"=?",searchLists:"=",ngStyle:"=?",vertical:"@?"}}});
